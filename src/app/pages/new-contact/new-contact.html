<div class="new-contact-page-bg">
    <div class="form-container">
        @if (idContacto()) {
        <h2 class="">Editar contacto</h2>
        } @else {
        <h2>Nuevo contacto</h2>
        }
        <form (ngSubmit)="handleFormSubmission(newContactForm)" #newContactForm="ngForm">
            <div>
                <label for="firstName">Nombre *</label>
                <input id="firstName" name="firstName" type="text" ngModel required minlength="2" maxlength="30"
                    #firstName="ngModel">
                <small class="error" [class.visible]="firstName.invalid && (firstName.dirty || firstName.touched)">
                    El nombre es obligatorio y debe tener entre 2 y 30 caracteres.
                </small>
            </div>
            <div>
                <label for="lastName">Apellido *</label>
                <input id="lastName" name="lastName" type="text" ngModel required minlength="2" maxlength="30"
                    #lastName="ngModel">
                <small class="error" [class.visible]="lastName.invalid && (lastName.dirty || lastName.touched)">
                    El apellido es obligatorio y debe tener entre 2 y 30 caracteres.
                </small>
            </div>
            <div>
                <label for="number">Teléfono *</label>
                <input id="number" name="number" type="text" ngModel required pattern="^[0-9]{7,15}$" #number="ngModel">
                <small class="error" [class.visible]="number.invalid && (number.dirty || number.touched)">
                    Solo números (7-15 dígitos).
                </small>
            </div>
            <div>
                <label for="email">Email *</label>
                <input id="email" name="email" type="email" ngModel required #email="ngModel">
                <small class="error" [class.visible]="email.invalid && (email.dirty || email.touched)">
                    El email es obligatorio y debe tener formato válido.
                </small>
            </div>
            <div>
                <label for="address">Dirección</label>
                <input id="address" name="address" type="text" ngModel maxlength="50" #address="ngModel">
                <small class="error" [class.visible]="address.invalid && (address.dirty || address.touched)">
                    Máximo 50 caracteres.
                </small>
            </div>
            <div>
                <label>Grupos</label>
                <!-- Aquí puedes agregar un input si lo necesitas -->
            </div>
            <div>
                <label for="company">Compañía</label>
                <input id="company" name="company" type="text" ngModel maxlength="30" #company="ngModel">
                <small class="error" [class.visible]="company.invalid && (company.dirty || company.touched)">
                    Máximo 30 caracteres.
                </small>
            </div>
            <div>
                <label for="image">URL Imagen</label>
                <input id="image" name="image" type="text" ngModel>
            </div>
            <div>
                <label for="favorite">Favorito</label>
                <input id="favorite" name="favorite" type="checkbox" ngModel>
            </div>
            <button [disabled]="newContactForm.invalid" routerLink="/contacts">+</button>
            <p class="error">{{newContactForm.valid}}</p>
            <p class="error" [class.visible]="!contactoCreado">
                Ocurrió un error al crear el contacto, intente de nuevo.
            </p>
        </form>
    </div>
</div>