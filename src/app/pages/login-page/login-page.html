<section class="login-section">
    <form #loginForm="ngForm" (ngSubmit)="login(loginForm.value)" class="flex-column form">
        <img src="/logo-buggati.png" alt="logo" width="220" height="250">

        <div>
            <input id="email" name="email" type="email" placeholder="Email" class="input input-text" ngModel
                #email="ngModel" required="true" autocomplete="email" [disabled]="isLoading">
            @if (email.invalid && !email.pristine) {
            <p class="error">Debe colocar un correo electrónico.</p>
            }
        </div>

        <div>
            <input id="password" name="password" type="password" placeholder="Password" class="input input-text" ngModel
                #password="ngModel" minlength="4" required autocomplete="current-password" [disabled]="isLoading">
            @if (password.invalid && !password.pristine) {
            <p class="error">Debe colocar una contraseña de al menos 4 caracteres.</p>
            }
        </div>

        <button [disabled]="loginForm.invalid || isLoading" type="submit" class="subtitle boton">
            @if (isLoading) {
            <app-spinner></app-spinner>
            <span>Iniciando sesión...</span>
            } @else {
            <span>Iniciar sesión</span>
            }
        </button>

        @if (errorLogin) {
        <p class="error">Datos de sesión incorrectos, intente nuevamente.</p>
        }

        <p class="subtitle">No tenes cuenta?</p>
        <a routerLink="/register" class="subtitle mg-l">Registrate</a>
    </form>
</section>